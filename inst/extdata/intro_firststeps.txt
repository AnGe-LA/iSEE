element;intro
#Welcome;Welcome to the interactive tour for iSEE - the Interactive SummarizedExperiment Explorer.<br/><br/>You will be shown around the different components of iSEE and learn the basic usage mechanisms by doing. Highlighted elements will respond to the user's actions, while the rest of the UI will be shaded. You will be prompted at particular spots to perform some actions, which will be marked with "<strong>Action:</strong>" text.<br/><br/>This tour uses single-cell RNA sequencing data from the <a href="https://doi.org/doi:10.18129/B9.bioc.scRNAseq"><i>scRNAseq</i> package</a>, specifically a subset of gene expression profiles from cells in the mouse visual cortex <a href="https://doi.org/10.1038/nn.4216">(Tasic <i>et al.</i>, 2016)</a>. Each column of the <code>SummarizedExperiment</code> corresponds to a cell, while each row corresponds to a gene.<br/><br/><strong>Action:</strong> now, click on the 'Next' button or use the right arrow of your keyboard to proceed into your tour.
#allpanels;iSEE provides a Shiny interface that allows you to generate a series of panels for exploring <code>SummarizedExperiment</code> objects. You can generate a variety of different panel types, which are described in more detail in the following steps.
#redDimPlot1;For example, you can construct a <font color="#402ee8">Reduced dimension plot</font> (e.g., PCA, <i>t</i>-SNE) to efficiently explore high-dimensional datasets. Here, each point represents a cell.
#colDataPlot1;You can construct a <font color="#402ee8">Column data plot</font> involving column-level metadata, where each point represents a column (in this case, a cell) in the <code>SummarizedExperiment</code> object. Points can be displayed using violin plots stratified by an experimental factor on the x-axis, or as a scatter plot involving continuous variables on both the x- and y-axes.
#featAssayPlot1;A <font color="#402ee8">Feature assay plot</font> displays the assay values (here, gene expression) across all cells. Like the <font color="#402ee8">Column data plot</font>, points represent cells and can be shown in both violin or scatter plots, depending on the variable selected on the x-axis.
#rowStatTable1;A <font color="#402ee8">Row statistic table</font> displays values in the <code>rowData</code> slot of your input object. They can also be used to efficiently select genes for the other plots.
#rowDataPlot1;You can also plot the <code>rowData</code> values with a <font color="#402ee8">Row data plot</font>.
#heatMapPlot1;You can produce a <font color="#402ee8">Heat map</font> to visualize a feature-by-sample matrix of assay values, for a selected subset of features.
#newPanelChoice + .selectize-control;The app starts with default values of one plot per panel type, provided the data values required for each panel type are present in the input object. However, you can add more plots of each panel type, by using this dropdown menu to select the type of plot to add.
#newPanelAdd;Once selected, the new panel will be created by clicking on this button. The new panel will be placed after the currently open ones.
#panelOrganization;You can reorganize the panels (i.e., plots and tables) using this sidebar.
#redDimPlot1_ShiftDown;Clicking on this button will shift the panel down by one position...
#redDimPlot1_ShiftUp;... or one position up. Panels are organized in rows from left to right in the main window, so moving a panel "up" in this sidebar will first move the panel to the left in the main window, and then to a higher row.
#redDimPlot1_Discard;You can even remove a panel by clicking on the trash icon.
#redDimPlot1_Modify;Another possibility is to change the width or height of the panel. Keep in mind that the organization is based on a width per row of 12, and the height is specified in pixels.
#redDimPlot1_DataBoxOpen;For each plot panel, a variety of parameters are available to control the appearance and behaviour of the plot. These parameters are located in these collapsible boxes, such as the <font color="#402ee8">Data parameters</font> box that contains parameters related to the type of data being shown...
#redDimPlot1_VisualBoxOpen;... or the <font color="#402ee8">Visual parameters</font> box, which contains parameters related to coloring, point appearance, and other visual aspects...
#redDimPlot1_SelectBoxOpen;... or the <font color="#402ee8">Selection parameters</font> box, which contains parameters to define the interactions between panels.<br /><br /><strong>Action:</strong> please click on the header of this collapsible box to see the available options.
#redDimPlot1_SelectBoxOpen;The parameters in this box control how panels are linked together, whereby points that are selected in a "transmitting" panel can be visualized in a "receiving" panel. In the next few steps, we will describe how we can examine the expression of a gene of interest in a subpopulation of cells. We will do this by selecting a subset of cells in <font color="#402ee8">Reduced dimension plot 1</font>, and then activating this brush on the receiving plot, i.e., <font color="#402ee8">Feature assay plot 1</font>.
#redDimPlot1;Two types of point selection are available in iSEE. The first is to use a Shiny brush, which allows users to select a rectangular area by clicking, holding, and dragging the mouse pointer. We also provide support for a polygon-lasso by single clicks to define lasso waypoints, and then a final click at the first waypoint to close the lasso. <br /><br /><strong>Action:</strong> try brushing by selecting an area in this plot that contains a subset of cells.
#redDimPlot1_PanelGeneralInfo;Some information on the number of selected points is displayed in this element.
#featAssayPlot1_SelectBoxOpen;To transmit the selection to other panels, open the collapsible box for <font color="#402ee8">Feature assay plot 1</font> (the receiving plot).<br /><br /><strong>Action:</strong> click on the collapsible box.
#featAssayPlot1_SelectByPlot + .selectize-control;<b>Action:</b>Select the panel to receive the selection from. In this case, we want to receive information from <font color="#402ee8">Reduced dimension plot 1</font>.
#featAssayPlot1;You can appreciate how this operation changed the plot, with all non-selected points becoming transparent. 
#redDimPlot1_PanelLinkInfo;This element states the links that exist between panels. For example, this plot transmits the brush selection to...
#featAssayPlot1_PanelLinkInfo;... this plot.
#featAssayPlot1_SelectEffect;The effect of the selection can also be altered. If set to <font color="#402ee8">Restrict</font>, only the selected points will be plotted in the receiving plot. If <font color="#402ee8">Color</font>, all points are plotted and the selected points are marked with a specified color. The default is to use <font color="#402ee8">Transparent</font>, where all non-selected points are transparent.
#featAssayPlot1;Even though this panel is receiving a selection, it is still able to transmit a selection to other panels. In this manner, we can construct arbitrarily complex (non-circular) networks between panels to display only a subset of points that match a certain criteria. This is equivalent to multi-step gating schemes in flow cytometry, provided the selection effect is set to <font color="#402ee8">Restrict</font>.<br/><br/>Another important thing to keep in mind when selecting points from violin plots is that points will be selected only if the brushed area includes the center of the x-tick, i.e., the center of the violin plot. This simplifies point selection as users do not need to capture the width of the violin plot, the values of which have no real meaning for individual points.
#redDimPlot1;A zooming functionality is also available by first brushing, then double-clicking on the brushed area.<br /><br /><strong>Action:</strong> click and hold to select an area, then release. Now, double click inside the marked area to zoom in. To zoom out to the original plot, double-click on the plot.
#heatMapPlot1;A couple of features are unique to the heatmaps, i.e. the feature parameters and the column data parameters. You can learn something more about them in the next steps.
#heatMapPlot1_FeatNameBoxOpen;<strong>Action:</strong> Click here to open this collapsible box. In here you can specify in the selectize widget the names of the features you would like to be included in the heatmap. You can do it by hand, keeping in mind that autocompletion is nicely supported, or also by selecting them from other panels, like row data plots or row statistics tables. Also, you can select what assay type you want to use to be displayed in the heatmap (logcounts being a reasonable default choice). 
#heatMapPlot1_FeatNameBoxOpen;<strong>Action:</strong> Select 'Row statistics table 1' as an incoming link, below the 'Import from' label. You'll operate on that table in the next step.
#rowStatTable1;<strong>Action:</strong> You can for example type in here 'Cxc' to select genes containing that string (likely chemokines)... 
#heatMapPlot1_Clear;<strong>Action:</strong> First, remove the current selection by clicking on the 'Clear features' button...
#heatMapPlot1_Import;<strong>Action:</strong> ... and then click on the 'Import features' button here. The features are added sequentially to the heatmap.
#heatMapPlot1_Clustered;If you want to cluster the rows, click the 'Cluster features' button. This will also rearrange the elements in the selectize according to the clustering. <br /><br /><strong>Action:</strong> Click on the 'Cluster features' button.
#heatMapPlot1;You can see how the rows were reorganized in the plot.
#heatMapPlot1_ColDataBoxOpen;You might also want to annotate the heatmap, and to do so you just have to select the relevant column data (multiple selection is possible).
#heatMapPlot1;And again, you can see how the information displayed on top reflect your selections.
#heatMapPlot1_FeatNameBoxOpen;More general coloring parameters can be found in this box, as well as the options to center and perform row scaling on the expression values. 
.navbar-static-top;A couple of useful additional elements can be found in the dashboard header.For example, in the dropdown menu labelled with the wrench icon, you can access some of the iSEE diagnostics. <br /><br /><strong>Action:</strong> Click on the wrench icon to open the dropdown.
#open_linkgraph;Clicking on the item marked with the chain icon, you can obtain a graph representation of the existing links and brushes among your open plot and table panels. This can be very useful once you open a multitude of panels.
#getcode_all;Once you are done with your iSEE live session, you might want to reproduce exactly the plots you generated. This can be done by clicking on the button 'Extract the R code!', marked with the magic wand icon, also in the iSEE diagnostics dropdown menu.
#acereport_r;This button opens a modal popup window, with a shinyAce-based text editor, where the code is formatted and displayed with some nice syntax highlighting. You can copy the code to the clipboard by selecting the text (please include the initial lines and the sessionInfo commands for best tracking of your environment), and store it in your analysis report/script. Your code can then be further edited to finalize the plots (e.g., for publication). 
#get_panel_settings;As a complement to the code, you can also extract the current panel settings. This could be useful if you are planning for example to re-open the app, and want to have the same set of parameters.
.navbar-static-top;Another dropdown menu is the Documentation, accessible by clicking on the question mark. <br /><br /><strong>Action:</strong> Click on the question mark icon to open the other dropdown menu.
#tour_firststeps;This contains the button to start the introjs-based tour, which you are taking as you read this...
#open_vignette;... as well as a link to the vignette for the iSEE package, in case you want to consult it while running the app.
.navbar-static-top;Clicking on the info icon you can display some additional information. <br /><br /><strong>Action:</strong> Click on the info icon.
#session_info;You can see either the session information from which you are running iSEE (which you should report in case of issues or bugs to ensure others are aware on the packages you loaded, and their versions)...
#iSEE_info;... or also a couple of information on the development team that got together to create the iSEE package, plus the item to insert in your citations if you used iSEE. You can follow the development version of the package by checking the GitHub repository linked here. New functionality will be added in the future. The authors appreciate well-considered suggestions for improvements or new features, or even better, pull requests.
#Thanks;Thank you for taking the tour of iSEE!
